<div class="flex flex-col space-y-6 px-4 py-6">
  <h2 class="text-xl font-semibold text-white text-center mb-10">Expense Categories</h2>

  <div class="flex flex-col sm:flex-row sm:justify-between gap-2 mb-10">
    <input
      type="text"
      [formControl]="searchControl"
      placeholder="Search categories..."
      class="bg-white text-black px-4 py-2 rounded sm:w-100"
    />
    <button
      class="bg-[var(--color-primary)] text-white px-4 py-2 rounded hover:bg-[var(--color-primary-hover)]"
      (click)="addCategory()"
    >
      Create
    </button>
  </div>

  <div class="flex-1 flex items-center justify-center">
    @if (loading()) {
      <div class="text-white text-lg">Loading...</div>
    } @else if (error()) {
      <div class="text-red-500 text-lg">Error loading categories</div>
    } @else if ((expenseCategories() ?? []).length > 0) {
      <ag-grid-angular
        class="w-full h-[300px] sm:h-[800px]"
        [theme]="theme"
        [columnDefs]="columnDefs"
        [defaultColDef]="defaultColDef"
        [isExternalFilterPresent]="isExternalFilterPresent"
        [doesExternalFilterPass]="doesExternalFilterPass"
        [rowData]="expenseCategories()"
        (gridReady)="onGridReady($event)"
      />
    } @else {
      <div class="text-white text-lg">No categories found.</div>
    }
  </div>
</div>
